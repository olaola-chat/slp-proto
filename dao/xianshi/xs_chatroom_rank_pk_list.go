// ============================================================================
// This is auto-generated by gf cli tool only once. Fill this file as you wish.
// ============================================================================

package dao

import (
	"banban/app/dao/internal"
	"context"
)

// xsChatroomRankPkListDao is the manager for logic model data accessing
// and custom defined data operations functions management. You can define
// methods on it to extend its functionality as you wish.
type xsChatroomRankPkListDao struct {
	internal.XsChatroomRankPkListDao
}

var (
	// XsChatroomRankPkList is globally public accessible object for table xs_chatroom_rank_pk_list operations.
	XsChatroomRankPkList = xsChatroomRankPkListDao{
		internal.XsChatroomRankPkList,
	}
)

// Fill with you ideas below.

// GetUserScore 获取用户的星光值
func (d *xsChatroomRankPkListDao) GetUserScore(ctx context.Context, uid, rid, pkVersion uint32) uint32 {
	scoreRecord, err := XsChatroomRankPkList.Ctx(ctx).One("rid = ? and uid = ? and pk_version = ?", rid, uid, pkVersion)
	if err != nil || scoreRecord == nil {
		return 0
	}

	return scoreRecord.Point
}
