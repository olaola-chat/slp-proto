// ============================================================================
// This is auto-generated by gf cli tool only once. Fill this file as you wish.
// ============================================================================

package dao

import (
	"context"

	"banban/app/dao/internal"
	"banban/app/pb"

	"github.com/gogf/gf/database/gdb"
	"github.com/gogf/gf/frame/g"
)

// xsChatroomConfigDao is the manager for logic model data accessing
// and custom defined data operations functions management. You can define
// methods on it to extend its functionality as you wish.
type xsChatroomConfigDao struct {
	internal.XsChatroomConfigDao
}

var (
	// XsChatroomConfig is globally public accessible object for table xs_chatroom_config operations.
	XsChatroomConfig = xsChatroomConfigDao{
		internal.XsChatroomConfig,
	}
)

// Fill with you ideas below.

type RoomConfigPosition int

const (
	RoomConfigTypeReceptionist RoomConfigPosition = 0
)

func GetRoomConfig(ctx context.Context, rid uint32, position RoomConfigPosition) (*pb.EntityXsChatroomConfig, error) {
	if rid < 1 {
		return nil, nil
	}
	res, err := XsChatroomConfig.Ctx(ctx).One("rid=? and position=?", rid, position)
	if err != nil && err != gdb.ErrNoRows {
		g.Log().Errorf("XsChatroomConfig(rid:%v), failed:%v", rid, err)
	}
	return res, err
}
